<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô - Eventfield</title>
  <link rel="stylesheet" href="store-style.css">
</head>
<body>
  <div class="header">
    <div class="logo">Eventfield</div>
    <button class="back-btn" onclick="goBack()">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
  </div>

  <div class="form-container">
    <h2 class="form-title">‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
    
    <form id="storeForm">
      <!-- ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô -->
      <div class="form-group">
        <label for="store-name">‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô</label>
        <input type="text" id="store-name" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì" required>
      </div>

      <!-- ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö -->
      <div class="form-group">
        <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="radio" name="party-types" value="‡∏Ñ‡πá‡∏≠‡∏Å‡πÄ‡∏ó‡∏•" onchange="togglePackageSection()">
            ‡∏Ñ‡πá‡∏≠‡∏Å‡πÄ‡∏ó‡∏•
          </label>
          <label class="checkbox-item">
            <input type="radio" name="party-types" value="‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡∏ï‡πå" onchange="togglePackageSection()">
            ‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡∏ï‡πå
          </label>
          <label class="checkbox-item">
            <input type="radio" name="party-types" value="‡πÇ‡∏ï‡πä‡∏∞‡∏à‡∏µ‡∏ô" onchange="togglePackageSection()">
            ‡πÇ‡∏ï‡πä‡∏∞‡∏à‡∏µ‡∏ô
          </label>
        </div>
      </div>

      <!-- ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏£‡∏ï‡∏£‡∏≤‡∏Ñ‡∏≤ -->
      <div class="form-group">
        <label>‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏£‡∏ï‡∏£‡∏≤‡∏Ñ‡∏≤</label>
        <div class="price-inputs">
          <input type="number" id="price-min" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î" min="0">
          <span class="price-separator">-</span>
          <input type="number" id="price-max" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î" min="0">
        </div>
      </div>

      <!-- ‡∏£‡∏±‡∏ö‡πÅ‡∏Ç‡∏Å‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î -->
      <div class="form-group">
        <label for="guest-capacity">‡∏£‡∏±‡∏ö‡πÅ‡∏Ç‡∏Å‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î(‡∏Ñ‡∏ô)</label>
        <input type="number" id="guest-capacity" placeholder="‡πÄ‡∏ä‡πà‡∏ô 500" min="1">
      </div>

      <!-- ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏≤‡∏Å‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà -->
      <div class="form-group">
        <label for="store-address">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</label>
        <div style="display: flex; gap: 10px; align-items: center;">
          <input type="text" id="store-address" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà" style="flex: 1;">
          <button type="button" onclick="openGoogleMap()" style="padding: 10px 15px; background: #4285f4; color: white; border: none; border-radius: 5px; cursor: pointer; white-space: nowrap;">üìç ‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î</button>
        </div>
      </div>

      <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ü‡∏•‡πå PDF -->
      <div class="form-group">
        <label>‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ü‡∏•‡πå PDF (‡πÄ‡∏°‡∏ô‡∏π, ‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï, ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡∏∑‡πà‡∏ô‡πÜ)</label>
        <div class="image-upload">
          <input type="file" id="pdf-files" accept=".pdf" multiple onchange="previewPDFs(this, 'pdf-preview')" style="display: none;">
          <div id="pdf-preview" onclick="handlePDFClick(event)">
            <div class="upload-icon">üìÑ</div>
            <div class="upload-text">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ü‡∏•‡πå PDF</div>
          </div>
        </div>
      </div>

      <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à - ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡∏ï‡πå -->
      <div class="form-group" id="package-section">
        <label>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á</label>
        <div id="items">
          <div class="item-row">
            <input type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏°" name="item-name">
            <input type="number" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" name="item-quantity">
            <input type="number" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤" name="item-price">
          </div>
          <div class="item-row">
            <input type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏ï‡πä‡∏∞‡∏™‡∏π‡∏á" name="item-name">
            <input type="number" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" name="item-quantity">
            <input type="number" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤" name="item-price">
          </div>
        </div>
        <button type="button" class="add-item-btn" onclick="addItem()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
      </div>

      <!-- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡πâ‡∏≤‡∏ô -->
      <div class="form-group">
        <label for="store-description">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡πâ‡∏≤‡∏ô</label>
        <textarea id="store-description" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏£‡πâ‡∏≤‡∏ô ‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏® ‡πÅ‡∏•‡∏∞‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô"></textarea>
      </div>

      <!-- ‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏£‡πâ‡∏≤‡∏ô -->
      <div class="form-group">
        <label>‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏£‡πâ‡∏≤‡∏ô</label>
        <div class="image-upload">
          <input type="file" id="profile-image" accept="image/*" onchange="previewImage(this, 'profile-preview')" style="display: none;">
          <div id="profile-preview" onclick="handleProfileClick(event)">
            <div class="upload-icon">üì∑</div>
            <div class="upload-text">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ</div>
          </div>
        </div>
      </div>

      <!-- ‡∏£‡∏π‡∏õ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô -->
      <div class="form-group">
        <label>‡∏£‡∏π‡∏õ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô</label>
        <div class="image-upload">
          <input type="file" id="gallery-images" accept="image/*" multiple onchange="previewImages(this, 'gallery-preview')" style="display: none;">
          <div id="gallery-preview" onclick="handleGalleryClick(event)">
            <div class="upload-icon">üñºÔ∏è</div>
            <div class="upload-text">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ</div>
          </div>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button type="button" class="btn btn-secondary" onclick="resetForm()">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        <button type="submit" class="btn btn-primary">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô</button>
      </div>
    </form>
  </div>

  <script>
    let profileImageData = null;
    let galleryImagesData = [];
    let pdfFilesData = [];

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à
    function togglePackageSection() {
      const selectedType = document.querySelector('input[name="party-types"]:checked')?.value;
      const packageSection = document.getElementById('package-section');
      
      if (selectedType === '‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡∏ï‡πå') {
        packageSection.style.display = 'none';
      } else {
        packageSection.style.display = 'block';
      }
    }

    // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
    window.addEventListener('load', function() {
      togglePackageSection();
    });

    // Open Google Map for location picking
    function openGoogleMap() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          function(position) {
            const lat = position.coords.latitude;
            const lng = position.coords.longitude;
            
            const mapUrl = `https://www.google.com/maps/search/?api=1&query=${lat},${lng}`;
            const mapWindow = window.open(mapUrl, '_blank', 'width=800,height=600');
            
            alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡πÉ‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á');
          },
          function(error) {
            const mapUrl = 'https://www.google.com/maps';
            const mapWindow = window.open(mapUrl, '_blank', 'width=800,height=600');
            
            alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á');
          }
        );
      } else {
        const mapUrl = 'https://www.google.com/maps';
        const mapWindow = window.open(mapUrl, '_blank', 'width=800,height=600');
        
        alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á');
      }
    }

    // Handle clicks for different upload areas
    function handleProfileClick(event) {
      if (event.target.classList.contains('remove-btn') || 
          event.target.parentElement.classList.contains('remove-btn')) {
        return;
      }
      document.getElementById('profile-image').click();
    }

    function handleGalleryClick(event) {
      if (event.target.classList.contains('remove-btn') || 
          event.target.parentElement.classList.contains('remove-btn') ||
          event.target.closest('.remove-btn')) {
        return;
      }
      document.getElementById('gallery-images').click();
    }

    function handlePDFClick(event) {
      if (event.target.classList.contains('remove-btn') || 
          event.target.parentElement.classList.contains('remove-btn') ||
          event.target.closest('.remove-btn')) {
        return;
      }
      document.getElementById('pdf-files').click();
    }

    // Add new item row
    function addItem() {
      const itemContainer = document.getElementById("items");
      const itemCount = itemContainer.children.length;

      const row = document.createElement("div");
      row.className = "item-row";

      row.innerHTML = `
        <input type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£" name="item-name">
        <input type="number" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" name="item-quantity">
        <input type="number" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤" name="item-price">
        ${itemCount > 1 ? '<button type="button" class="remove-item-btn" onclick="removeItem(this)">‡∏•‡∏ö</button>' : ''}
      `;

      itemContainer.appendChild(row);
    }

    // Remove item row
    function removeItem(button) {
      const row = button.parentElement;
      row.remove();
    }

    // Preview single image
    function previewImage(input, previewId) {
      const file = input.files[0];
      const preview = document.getElementById(previewId);
      
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          if (previewId === 'profile-preview') {
            profileImageData = e.target.result;
          }
          
          const container = document.createElement('div');
          container.style.cssText = 'position: relative; display: inline-block;';
          
          const img = document.createElement('img');
          img.src = e.target.result;
          img.style.cssText = 'max-width: 100%; max-height: 200px; border-radius: 8px;';
          img.alt = 'Preview';
          
          const removeBtn = document.createElement('button');
          removeBtn.type = 'button';
          removeBtn.className = 'remove-btn';
          removeBtn.innerHTML = '√ó';
          removeBtn.style.cssText = 'position: absolute; top: -5px; right: -5px; background: red; color: white; border: none; border-radius: 50%; width: 20px; height: 20px; cursor: pointer; font-size: 14px; line-height: 1; z-index: 10;';
          removeBtn.onclick = function(e) {
            e.stopPropagation();
            removeProfileImage();
          };
          
          container.appendChild(img);
          container.appendChild(removeBtn);
          preview.innerHTML = '';
          preview.appendChild(container);
        };
        reader.readAsDataURL(file);
      }
    }

    // Remove profile image
    function removeProfileImage() {
      profileImageData = null;
      document.getElementById('profile-image').value = '';
      document.getElementById('profile-preview').innerHTML = `
        <div class="upload-icon">üì∑</div>
        <div class="upload-text">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ</div>
      `;
    }

    // Preview multiple images
    function previewImages(input, previewId) {
      const files = Array.from(input.files);
      
      if (files.length > 0) {
        let processedFiles = 0;
        
        files.forEach((file) => {
          const reader = new FileReader();
          reader.onload = function(e) {
            galleryImagesData.push(e.target.result);
            processedFiles++;
            
            if (processedFiles === files.length) {
              renderGalleryPreview();
            }
          };
          reader.readAsDataURL(file);
        });
      }
      
      input.value = '';
    }

    // Remove gallery image
    function removeImage(index) {
      if (index >= 0 && index < galleryImagesData.length) {
        galleryImagesData.splice(index, 1);
        renderGalleryPreview();
      }
    }

    // Render gallery preview
    function renderGalleryPreview() {
      const preview = document.getElementById('gallery-preview');
      
      if (galleryImagesData.length === 0) {
        preview.innerHTML = `
          <div class="upload-icon">üñºÔ∏è</div>
          <div class="upload-text">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ</div>
        `;
        return;
      }
      
      preview.innerHTML = '';
      
      galleryImagesData.forEach((imgData, index) => {
        const imgDiv = document.createElement('div');
        imgDiv.style.cssText = 'display: inline-block; margin: 5px; position: relative;';
        
        const img = document.createElement('img');
        img.src = imgData;
        img.style.cssText = 'width: 80px; height: 80px; object-fit: cover; border-radius: 4px;';
        img.alt = `Gallery ${index + 1}`;
        
        const removeBtn = document.createElement('button');
        removeBtn.type = 'button';
        removeBtn.className = 'remove-btn';
        removeBtn.innerHTML = '√ó';
        removeBtn.style.cssText = 'position: absolute; top: -5px; right: -5px; background: red; color: white; border: none; border-radius: 50%; width: 20px; height: 20px; cursor: pointer; font-size: 14px; line-height: 1; z-index: 10;';
        
        removeBtn.onclick = function(e) {
          e.stopPropagation();
          removeImage(index);
        };
        
        imgDiv.appendChild(img);
        imgDiv.appendChild(removeBtn);
        preview.appendChild(imgDiv);
      });
      
      const addMoreDiv = document.createElement('div');
      addMoreDiv.style.cssText = 'display: inline-block; margin: 5px; width: 80px; height: 80px; border: 2px dashed #8b7355; border-radius: 4px; cursor: pointer; display: flex; align-items: center; justify-content: center; background-color: #f9f9f9;';
      addMoreDiv.innerHTML = `
        <div style="text-align: center; color: #8b7355;">
          <div style="font-size: 20px;">+</div>
          <div style="font-size: 10px;">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ</div>
        </div>
      `;
      addMoreDiv.onclick = function() {
        document.getElementById('gallery-images').click();
      };
      preview.appendChild(addMoreDiv);
    }

    // Preview PDF files
    function previewPDFs(input, previewId) {
      const files = Array.from(input.files);
      
      if (files.length > 0) {
        let processedFiles = 0;
        
        files.forEach((file) => {
          const reader = new FileReader();
          reader.onload = function(e) {
            pdfFilesData.push({
              name: file.name,
              size: file.size,
              data: e.target.result
            });
            processedFiles++;
            
            if (processedFiles === files.length) {
              renderPDFPreview();
            }
          };
          reader.readAsDataURL(file);
        });
      }
      
      input.value = '';
    }

    // Remove PDF file
    function removePDF(index) {
      if (index >= 0 && index < pdfFilesData.length) {
        pdfFilesData.splice(index, 1);
        renderPDFPreview();
      }
    }

    // Render PDF preview
    function renderPDFPreview() {
      const preview = document.getElementById('pdf-preview');
      
      if (pdfFilesData.length === 0) {
        preview.innerHTML = `
          <div class="upload-icon">üìÑ</div>
          <div class="upload-text">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ü‡∏•‡πå PDF</div>
        `;
        return;
      }
      
      preview.innerHTML = '';
      
      pdfFilesData.forEach((pdfData, index) => {
        const pdfDiv = document.createElement('div');
        pdfDiv.style.cssText = 'display: inline-block; margin: 5px; position: relative; padding: 10px; border: 2px solid #ddd; border-radius: 8px; background: #f9f9f9; max-width: 150px;';
        
        const content = document.createElement('div');
        content.style.cssText = 'text-align: center;';
        content.innerHTML = `
          <div style="font-size: 30px; color: #d32f2f;">üìÑ</div>
          <div style="font-size: 12px; font-weight: bold; margin: 5px 0; word-break: break-word;">${pdfData.name}</div>
          <div style="font-size: 10px; color: #666;">${(pdfData.size / 1024 / 1024).toFixed(2)} MB</div>
        `;
        
        const removeBtn = document.createElement('button');
        removeBtn.type = 'button';
        removeBtn.className = 'remove-btn';
        removeBtn.innerHTML = '√ó';
        removeBtn.style.cssText = 'position: absolute; top: -5px; right: -5px; background: red; color: white; border: none; border-radius: 50%; width: 20px; height: 20px; cursor: pointer; font-size: 14px; line-height: 1; z-index: 10;';
        
        removeBtn.onclick = function(e) {
          e.stopPropagation();
          removePDF(index);
        };
        
        pdfDiv.appendChild(content);
        pdfDiv.appendChild(removeBtn);
        preview.appendChild(pdfDiv);
      });
      
      const addMoreDiv = document.createElement('div');
      addMoreDiv.style.cssText = 'display: inline-block; margin: 5px; width: 100px; height: 100px; border: 2px dashed #8b7355; border-radius: 4px; cursor: pointer; display: flex; align-items: center; justify-content: center; background-color: #f9f9f9;';
      addMoreDiv.innerHTML = `
        <div style="text-align: center; color: #8b7355;">
          <div style="font-size: 20px;">+</div>
          <div style="font-size: 10px;">‡πÄ‡∏û‡∏¥‡πà‡∏° PDF</div>
        </div>
      `;
      addMoreDiv.onclick = function() {
        document.getElementById('pdf-files').click();
      };
      preview.appendChild(addMoreDiv);
    }

    // Get package items
    function getPackageItems() {
      const packageSection = document.getElementById('package-section');
      
      // ‡∏ñ‡πâ‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à‡∏ñ‡∏π‡∏Å‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà (‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡∏ï‡πå) ‡πÉ‡∏´‡πâ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô array ‡∏ß‡πà‡∏≤‡∏á
      if (packageSection.style.display === 'none') {
        return [];
      }
      
      const itemRows = document.querySelectorAll('#items .item-row');
      const items = [];
      
      itemRows.forEach(row => {
        const nameInput = row.querySelector('input[name="item-name"]');
        const quantityInput = row.querySelector('input[name="item-quantity"]');
        const priceInput = row.querySelector('input[name="item-price"]');
        
        if (nameInput && nameInput.value.trim()) {
          items.push({
            name: nameInput.value.trim(),
            quantity: quantityInput ? parseInt(quantityInput.value) || 0 : 0,
            price: priceInput ? parseInt(priceInput.value) || 0 : 0
          });
        }
      });
      
      return items;
    }

    // Form submission
    document.getElementById('storeForm').addEventListener('submit', function(e) {
  e.preventDefault();
  
  const storeName = document.getElementById('store-name').value;
  const storeAddress = document.getElementById('store-address').value;
  const selectedPartyType = document.querySelector('input[name="party-types"]:checked');
  const priceMin = document.getElementById('price-min').value;
  const priceMax = document.getElementById('price-max').value;
  const guestCapacity = document.getElementById('guest-capacity').value;
  const storeDescription = document.getElementById('store-description').value;
  const packageItems = getPackageItems();

  if (!storeName) {
    alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô');
    return;
  }

  if (!selectedPartyType) {
    alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡πâ‡∏≤‡∏ô');
    return;
  }

  const storeData = {
    id: Date.now(),
    name: storeName,
    address: storeAddress,
    partyType: selectedPartyType.value,
    priceRange: {
      min: priceMin ? parseInt(priceMin) : 0,
      max: priceMax ? parseInt(priceMax) : 0
    },
    guestCapacity: guestCapacity ? parseInt(guestCapacity) : 0,
    description: storeDescription,
    packageItems: packageItems,
    profileImage: profileImageData,
    galleryImages: [...galleryImagesData],
    pdfFiles: [...pdfFilesData],
    createdAt: new Date().toISOString()
  };

  // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á localStorage
  try {
    const existingStores = JSON.parse(localStorage.getItem('stores') || '[]');
    existingStores.push(storeData);
    localStorage.setItem('stores', JSON.stringify(existingStores));
    
    alert('‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!');
    console.log('Store created:', storeData);
    
    // Redirect ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ index ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ö parameter
    window.location.href = 'index.html?created=true';
  } catch (error) {
    console.error('Error saving store:', error);
    alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
  }
});

    // Reset form
    function resetForm() {
      if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
        document.getElementById('storeForm').reset();
        profileImageData = null;
        galleryImagesData = [];
        pdfFilesData = [];
        
        const itemsContainer = document.getElementById('items');
        itemsContainer.innerHTML = `
          <div class="item-row">
            <input type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏°" name="item-name">
            <input type="number" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" name="item-quantity">
            <input type="number" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤" name="item-price">
          </div>
          <div class="item-row">
            <input type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏ï‡πä‡∏∞‡∏™‡∏π‡∏á" name="item-name">
            <input type="number" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" name="item-quantity">
            <input type="number" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤" name="item-price">
          </div>
        `;
        
        document.getElementById('profile-preview').innerHTML = `
          <div class="upload-icon">üì∑</div>
          <div class="upload-text">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ</div>
        `;
        
        document.getElementById('pdf-preview').innerHTML = `
          <div class="upload-icon">üìÑ</div>
          <div class="upload-text">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ü‡∏•‡πå PDF</div>
        `;
        
        renderGalleryPreview();
        
        // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à
        togglePackageSection();
      }
    }

    // Go back to main page
    function goBack() {
      window.location.href = 'index.html';
    }
  </script>
</body>
</html>